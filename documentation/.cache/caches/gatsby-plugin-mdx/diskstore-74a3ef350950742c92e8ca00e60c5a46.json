{"expireTime":9007200881073061000,"key":"gatsby-plugin-mdx-entire-payload-6c71dd65ae5c758aa6089f5c7db3129f-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Architecture","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":16,"offset":16},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":16,"offset":16},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The cross exchange market-making strategy performs market-making trades between two markets: it emits limit orders to a less liquid, larger spread market. It creates market orders on a more liquid, smaller spread market whenever the limit orders were hit. This, in effect, sends the liquidity from the more liquid market to the less liquid market.","position":{"start":{"line":4,"column":1,"offset":18},"end":{"line":4,"column":348,"offset":365},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":18},"end":{"line":4,"column":348,"offset":365},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In Hummingbot code and documentation, we usually refer to the less liquid market as the \"maker side\" - since the cross exchange market making strategy is providing liquidity there. We then refer to the more liquid market as the \"taker side\" - since the strategy is taking liquidity there.","position":{"start":{"line":6,"column":1,"offset":367},"end":{"line":6,"column":289,"offset":655},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":367},"end":{"line":6,"column":289,"offset":655},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The cross exchange market making strategy's code is divided into two major parts:","position":{"start":{"line":8,"column":1,"offset":657},"end":{"line":8,"column":82,"offset":738},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":657},"end":{"line":8,"column":82,"offset":738},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Order creation and adjustment","position":{"start":{"line":10,"column":5,"offset":744},"end":{"line":10,"column":34,"offset":773},"indent":[]}}],"position":{"start":{"line":10,"column":5,"offset":744},"end":{"line":10,"column":34,"offset":773},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Periodically creates and adjusts limit orders on the maker side.","position":{"start":{"line":12,"column":5,"offset":779},"end":{"line":12,"column":69,"offset":843},"indent":[]}}],"position":{"start":{"line":12,"column":5,"offset":779},"end":{"line":12,"column":69,"offset":843},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":740},"end":{"line":13,"column":1,"offset":844},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Hedging order fills","position":{"start":{"line":14,"column":5,"offset":849},"end":{"line":14,"column":24,"offset":868},"indent":[]}}],"position":{"start":{"line":14,"column":5,"offset":849},"end":{"line":14,"column":24,"offset":868},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Performs the opposite, hedging trade on the taker side whenever a maker order has been filled.","position":{"start":{"line":16,"column":5,"offset":874},"end":{"line":16,"column":99,"offset":968},"indent":[]}}],"position":{"start":{"line":16,"column":5,"offset":874},"end":{"line":16,"column":99,"offset":968},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":845},"end":{"line":16,"column":99,"offset":968},"indent":[1,1]}}],"position":{"start":{"line":10,"column":1,"offset":740},"end":{"line":16,"column":99,"offset":968},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Order Creation and Adjustment","position":{"start":{"line":18,"column":4,"offset":973},"end":{"line":18,"column":33,"offset":1002},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":970},"end":{"line":18,"column":33,"offset":1002},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here's a high-level view of the logical flow of the order creation and adjustment part. The overall logic of order creation and adjustment is pretty involved, but it can be roughly divided to the ","position":{"start":{"line":20,"column":1,"offset":1004},"end":{"line":20,"column":197,"offset":1200},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Cancel Order Flow","position":{"start":{"line":20,"column":199,"offset":1202},"end":{"line":20,"column":216,"offset":1219},"indent":[]}}],"position":{"start":{"line":20,"column":197,"offset":1200},"end":{"line":20,"column":218,"offset":1221},"indent":[]}},{"type":"text","value":" and the ","position":{"start":{"line":20,"column":218,"offset":1221},"end":{"line":20,"column":227,"offset":1230},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Create Order Flow","position":{"start":{"line":20,"column":229,"offset":1232},"end":{"line":20,"column":246,"offset":1249},"indent":[]}}],"position":{"start":{"line":20,"column":227,"offset":1230},"end":{"line":20,"column":248,"offset":1251},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":20,"column":248,"offset":1251},"end":{"line":20,"column":249,"offset":1252},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1004},"end":{"line":20,"column":249,"offset":1252},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The cross exchange market-making strategy regularly refreshes the limit orders on the maker side market by regularly canceling old orders (or waiting for existing orders to expire) and creating new limit orders. This process ensures the limited orders it has on the maker side are always correct and profitable.","position":{"start":{"line":22,"column":1,"offset":1254},"end":{"line":22,"column":312,"offset":1565},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1254},"end":{"line":22,"column":312,"offset":1565},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/xemm-flowchart-1.svg","alt":"Figure 1: Order creation and adjustment flow chart","position":{"start":{"line":24,"column":1,"offset":1567},"end":{"line":24,"column":81,"offset":1647},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1567},"end":{"line":24,"column":81,"offset":1647},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The entry point of this logic flow is the ","position":{"start":{"line":26,"column":1,"offset":1649},"end":{"line":26,"column":43,"offset":1691},"indent":[]}},{"type":"inlineCode","value":"c_process_market_pair()","position":{"start":{"line":26,"column":43,"offset":1691},"end":{"line":26,"column":68,"offset":1716},"indent":[]}},{"type":"text","value":" function in ","position":{"start":{"line":26,"column":68,"offset":1716},"end":{"line":26,"column":81,"offset":1729},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx","children":[{"type":"inlineCode","value":"cross_exchange_market_making.pyx","position":{"start":{"line":26,"column":82,"offset":1730},"end":{"line":26,"column":116,"offset":1764},"indent":[]}}],"position":{"start":{"line":26,"column":81,"offset":1729},"end":{"line":26,"column":252,"offset":1900},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":26,"column":252,"offset":1900},"end":{"line":26,"column":253,"offset":1901},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1649},"end":{"line":26,"column":253,"offset":1901},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Cancel Order Flow","position":{"start":{"line":28,"column":5,"offset":1907},"end":{"line":28,"column":22,"offset":1924},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1903},"end":{"line":28,"column":22,"offset":1924},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The cancel order flow regularly monitors all active limit orders on the maker side to ensure they are all valid and profitable over time. If any active limit order becomes invalid (e.g., because the asset balance changed) or becomes unprofitable (due to market price changes), it should cancel such orders.","position":{"start":{"line":30,"column":1,"offset":1926},"end":{"line":30,"column":307,"offset":2232},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1926},"end":{"line":30,"column":307,"offset":2232},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/xemm-flowchart-2.svg","alt":"Figure 2: Cancel order flow chart","position":{"start":{"line":32,"column":1,"offset":2234},"end":{"line":32,"column":64,"offset":2297},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2234},"end":{"line":32,"column":64,"offset":2297},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Active order cancellation setting","position":{"start":{"line":34,"column":6,"offset":2304},"end":{"line":34,"column":39,"offset":2337},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2299},"end":{"line":34,"column":39,"offset":2337},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":36,"column":1,"offset":2339},"end":{"line":36,"column":5,"offset":2343},"indent":[]}},{"type":"link","title":null,"url":"/strategies/cross-exchange-market-making/#active_order_canceling","children":[{"type":"inlineCode","value":"active_order_canceling","position":{"start":{"line":36,"column":6,"offset":2344},"end":{"line":36,"column":30,"offset":2368},"indent":[]}}],"position":{"start":{"line":36,"column":5,"offset":2343},"end":{"line":36,"column":97,"offset":2435},"indent":[]}},{"type":"text","value":" setting changes how the cancel order flow operates. ","position":{"start":{"line":36,"column":97,"offset":2435},"end":{"line":36,"column":150,"offset":2488},"indent":[]}},{"type":"inlineCode","value":"active_order_canceling","position":{"start":{"line":36,"column":150,"offset":2488},"end":{"line":36,"column":174,"offset":2512},"indent":[]}},{"type":"text","value":" should be enabled when the maker side is a centralized exchange (e.g. Binance, Coinbase Pro), and it should be disabled when the maker side is a decentralized exchange.","position":{"start":{"line":36,"column":174,"offset":2512},"end":{"line":36,"column":343,"offset":2681},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":2339},"end":{"line":36,"column":343,"offset":2681},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When ","position":{"start":{"line":38,"column":1,"offset":2683},"end":{"line":38,"column":6,"offset":2688},"indent":[]}},{"type":"inlineCode","value":"active_order_canceling","position":{"start":{"line":38,"column":6,"offset":2688},"end":{"line":38,"column":30,"offset":2712},"indent":[]}},{"type":"text","value":" is enabled, the cross-exchange market-making strategy will refresh orders by actively canceling them regularly. This is optimal for centralized exchanges because it allows the strategy to respond quickly when, for example, market prices have significantly changed. However, this should not be chosen for decentralized exchanges that charge gas for canceling orders (such as Radar Relay).","position":{"start":{"line":38,"column":30,"offset":2712},"end":{"line":38,"column":418,"offset":3100},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2683},"end":{"line":38,"column":418,"offset":3100},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When ","position":{"start":{"line":40,"column":1,"offset":3102},"end":{"line":40,"column":6,"offset":3107},"indent":[]}},{"type":"inlineCode","value":"active_order_canceling","position":{"start":{"line":40,"column":6,"offset":3107},"end":{"line":40,"column":30,"offset":3131},"indent":[]}},{"type":"text","value":" is disabled, the cross exchange market-making strategy would emit limit orders that automatically expire after a predefined time period. This means the strategy can wait for them to expire to refresh the maker orders rather than cancel them actively. This is useful for decentralized exchanges because it avoids the potentially very long cancellation delays there, and it also does not cost any gas to wait for order expiration.","position":{"start":{"line":40,"column":30,"offset":3131},"end":{"line":40,"column":459,"offset":3560},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3102},"end":{"line":40,"column":459,"offset":3560},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It is still possible for the strategy to actively cancel orders with ","position":{"start":{"line":42,"column":1,"offset":3562},"end":{"line":42,"column":70,"offset":3631},"indent":[]}},{"type":"inlineCode","value":"active_order_canceling","position":{"start":{"line":42,"column":70,"offset":3631},"end":{"line":42,"column":94,"offset":3655},"indent":[]}},{"type":"text","value":" disabled, via the ","position":{"start":{"line":42,"column":94,"offset":3655},"end":{"line":42,"column":113,"offset":3674},"indent":[]}},{"type":"link","title":null,"url":"/strategies/cross-exchange-market-making/#cancel_order_threshold","children":[{"type":"inlineCode","value":"cancel_order_threshold","position":{"start":{"line":42,"column":114,"offset":3675},"end":{"line":42,"column":138,"offset":3699},"indent":[]}}],"position":{"start":{"line":42,"column":113,"offset":3674},"end":{"line":42,"column":205,"offset":3766},"indent":[]}},{"type":"text","value":" setting. For example, you can set it to -0.05 such that the strategy would still cancel a limit order on a DEX when its profitability dropped below -5%. This can be used as a safety switch to guard against sudden and large price changes on decentralized exchanges.","position":{"start":{"line":42,"column":205,"offset":3766},"end":{"line":42,"column":470,"offset":4031},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":3562},"end":{"line":42,"column":470,"offset":4031},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Is hedging profitable?","position":{"start":{"line":44,"column":6,"offset":4038},"end":{"line":44,"column":28,"offset":4060},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":4033},"end":{"line":44,"column":28,"offset":4060},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Assuming active order canceling is enabled, the first check the strategy does with each active maker order is whether it is still profitable or not. Next, the current profitability of an order is calculated assuming the order is filled and hedged on the taker market immediately.","position":{"start":{"line":46,"column":1,"offset":4062},"end":{"line":46,"column":280,"offset":4341},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":4062},"end":{"line":46,"column":280,"offset":4341},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If the profit ratio calculated for the maker order is less than the ","position":{"start":{"line":48,"column":1,"offset":4343},"end":{"line":48,"column":69,"offset":4411},"indent":[]}},{"type":"link","title":null,"url":"/strategies/cross-exchange-market-making/#min_profitability","children":[{"type":"inlineCode","value":"min_profitability","position":{"start":{"line":48,"column":70,"offset":4412},"end":{"line":48,"column":89,"offset":4431},"indent":[]}}],"position":{"start":{"line":48,"column":69,"offset":4411},"end":{"line":48,"column":151,"offset":4493},"indent":[]}},{"type":"text","value":" setting, then the order is canceled.","position":{"start":{"line":48,"column":151,"offset":4493},"end":{"line":48,"column":188,"offset":4530},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":4343},"end":{"line":48,"column":188,"offset":4530},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The logic of this check can be found in the function ","position":{"start":{"line":50,"column":1,"offset":4532},"end":{"line":50,"column":54,"offset":4585},"indent":[]}},{"type":"inlineCode","value":"c_check_if_still_profitable()","position":{"start":{"line":50,"column":54,"offset":4585},"end":{"line":50,"column":85,"offset":4616},"indent":[]}},{"type":"text","value":" in ","position":{"start":{"line":50,"column":85,"offset":4616},"end":{"line":50,"column":89,"offset":4620},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx","children":[{"type":"inlineCode","value":"cross_exchange_market_making.pyx","position":{"start":{"line":50,"column":90,"offset":4621},"end":{"line":50,"column":124,"offset":4655},"indent":[]}}],"position":{"start":{"line":50,"column":89,"offset":4620},"end":{"line":50,"column":260,"offset":4791},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":50,"column":260,"offset":4791},"end":{"line":50,"column":261,"offset":4792},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":4532},"end":{"line":50,"column":261,"offset":4792},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Otherwise, the strategy will go onto the next check.","position":{"start":{"line":52,"column":1,"offset":4794},"end":{"line":52,"column":53,"offset":4846},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":4794},"end":{"line":52,"column":53,"offset":4846},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Is there a sufficient account balance?","position":{"start":{"line":54,"column":6,"offset":4853},"end":{"line":54,"column":44,"offset":4891},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":4848},"end":{"line":54,"column":44,"offset":4891},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The next check afterward checks whether there's enough asset balance left to satisfy the maker order. If there is not enough balance left on the exchange, the order would be canceled.","position":{"start":{"line":56,"column":1,"offset":4893},"end":{"line":56,"column":184,"offset":5076},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":4893},"end":{"line":56,"column":184,"offset":5076},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The logic of this check can be found in the function ","position":{"start":{"line":58,"column":1,"offset":5078},"end":{"line":58,"column":54,"offset":5131},"indent":[]}},{"type":"inlineCode","value":"c_check_if_sufficient_balance()","position":{"start":{"line":58,"column":54,"offset":5131},"end":{"line":58,"column":87,"offset":5164},"indent":[]}},{"type":"text","value":" in ","position":{"start":{"line":58,"column":87,"offset":5164},"end":{"line":58,"column":91,"offset":5168},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx","children":[{"type":"inlineCode","value":"cross_exchange_market_making.pyx","position":{"start":{"line":58,"column":92,"offset":5169},"end":{"line":58,"column":126,"offset":5203},"indent":[]}}],"position":{"start":{"line":58,"column":91,"offset":5168},"end":{"line":58,"column":262,"offset":5339},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":58,"column":262,"offset":5339},"end":{"line":58,"column":263,"offset":5340},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":5078},"end":{"line":58,"column":263,"offset":5340},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Otherwise, the strategy will go onto the next check.","position":{"start":{"line":60,"column":1,"offset":5342},"end":{"line":60,"column":53,"offset":5394},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":5342},"end":{"line":60,"column":53,"offset":5394},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Is the price correct?","position":{"start":{"line":62,"column":6,"offset":5401},"end":{"line":62,"column":27,"offset":5422},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":5396},"end":{"line":62,"column":27,"offset":5422},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Asset prices on both the maker side and taker side are constantly changing, and thus the optimal prices for the limit orders on the maker side would change over time.","position":{"start":{"line":64,"column":1,"offset":5424},"end":{"line":64,"column":167,"offset":5590},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":5424},"end":{"line":64,"column":167,"offset":5590},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The cross exchange market-making strategy calculates the optimal pricing from the following factors:","position":{"start":{"line":66,"column":1,"offset":5592},"end":{"line":66,"column":101,"offset":5692},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":5592},"end":{"line":66,"column":101,"offset":5692},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Current market order prices on the taker side.","position":{"start":{"line":68,"column":5,"offset":5698},"end":{"line":68,"column":51,"offset":5744},"indent":[]}}],"position":{"start":{"line":68,"column":5,"offset":5698},"end":{"line":68,"column":51,"offset":5744},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":5694},"end":{"line":68,"column":51,"offset":5744},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Current order book depth on the maker side.","position":{"start":{"line":69,"column":5,"offset":5749},"end":{"line":69,"column":48,"offset":5792},"indent":[]}}],"position":{"start":{"line":69,"column":5,"offset":5749},"end":{"line":69,"column":48,"offset":5792},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":5745},"end":{"line":69,"column":48,"offset":5792},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/strategies/cross-exchange-market-making/#top_depth_tolerance","children":[{"type":"inlineCode","value":"top_depth_tolerance","position":{"start":{"line":70,"column":6,"offset":5798},"end":{"line":70,"column":27,"offset":5819},"indent":[]}}],"position":{"start":{"line":70,"column":5,"offset":5797},"end":{"line":70,"column":91,"offset":5883},"indent":[]}},{"type":"text","value":" setting, which is applied to the order book depths on maker side.","position":{"start":{"line":70,"column":91,"offset":5883},"end":{"line":70,"column":157,"offset":5949},"indent":[]}}],"position":{"start":{"line":70,"column":5,"offset":5797},"end":{"line":70,"column":157,"offset":5949},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":5793},"end":{"line":70,"column":157,"offset":5949},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/strategies/cross-exchange-market-making/#min_profitability","children":[{"type":"inlineCode","value":"min_profitability","position":{"start":{"line":71,"column":6,"offset":5955},"end":{"line":71,"column":25,"offset":5974},"indent":[]}}],"position":{"start":{"line":71,"column":5,"offset":5954},"end":{"line":71,"column":87,"offset":6036},"indent":[]}},{"type":"text","value":" setting, which is applied to the market order prices on the taker side.","position":{"start":{"line":71,"column":87,"offset":6036},"end":{"line":71,"column":159,"offset":6108},"indent":[]}}],"position":{"start":{"line":71,"column":5,"offset":5954},"end":{"line":71,"column":159,"offset":6108},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":5950},"end":{"line":71,"column":159,"offset":6108},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":5694},"end":{"line":71,"column":159,"offset":6108},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If the price of the active order is different from the optimal price calculated, then the order would be cancelled. Otherwise, the strategy would allow the order to stay.","position":{"start":{"line":73,"column":1,"offset":6110},"end":{"line":73,"column":171,"offset":6280},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":6110},"end":{"line":73,"column":171,"offset":6280},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The logic of this check can be found in the function ","position":{"start":{"line":75,"column":1,"offset":6282},"end":{"line":75,"column":54,"offset":6335},"indent":[]}},{"type":"inlineCode","value":"c_check_if_price_correct()","position":{"start":{"line":75,"column":54,"offset":6335},"end":{"line":75,"column":82,"offset":6363},"indent":[]}},{"type":"text","value":" in ","position":{"start":{"line":75,"column":82,"offset":6363},"end":{"line":75,"column":86,"offset":6367},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx","children":[{"type":"inlineCode","value":"cross_exchange_market_making.pyx","position":{"start":{"line":75,"column":87,"offset":6368},"end":{"line":75,"column":121,"offset":6402},"indent":[]}}],"position":{"start":{"line":75,"column":86,"offset":6367},"end":{"line":75,"column":257,"offset":6538},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":75,"column":257,"offset":6538},"end":{"line":75,"column":258,"offset":6539},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":6282},"end":{"line":75,"column":258,"offset":6539},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After all the active orders on the maker side have been checked, the strategy will proceed to create order flow.","position":{"start":{"line":77,"column":1,"offset":6541},"end":{"line":77,"column":113,"offset":6653},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":6541},"end":{"line":77,"column":113,"offset":6653},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create Order Flow","position":{"start":{"line":79,"column":5,"offset":6659},"end":{"line":79,"column":22,"offset":6676},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":6655},"end":{"line":79,"column":22,"offset":6676},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After going through the cancel order flow, the cross exchange market-making strategy would check and re-create any missing limit orders on the maker side.","position":{"start":{"line":81,"column":1,"offset":6678},"end":{"line":81,"column":155,"offset":6832},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":6678},"end":{"line":81,"column":155,"offset":6832},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/xemm-flowchart-3.svg","alt":"Figure 3: Cancel order flow chart","position":{"start":{"line":83,"column":1,"offset":6834},"end":{"line":83,"column":64,"offset":6897},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":6834},"end":{"line":83,"column":64,"offset":6897},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The logic inside the create order flow is relatively straightforward. First, it checks whether there is existing bid and ask orders on the maker side. Then, if any of the orders are missing, it will check whether it is profitable to create one at the moment. If it's profitable to create the missing orders, it will calculate the optimal pricing and size and create those orders.","position":{"start":{"line":85,"column":1,"offset":6899},"end":{"line":85,"column":380,"offset":7278},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":6899},"end":{"line":85,"column":380,"offset":7278},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The logic of the create order flow can be found in the function ","position":{"start":{"line":87,"column":1,"offset":7280},"end":{"line":87,"column":65,"offset":7344},"indent":[]}},{"type":"inlineCode","value":"c_check_and_create_new_orders()","position":{"start":{"line":87,"column":65,"offset":7344},"end":{"line":87,"column":98,"offset":7377},"indent":[]}},{"type":"text","value":" in ","position":{"start":{"line":87,"column":98,"offset":7377},"end":{"line":87,"column":102,"offset":7381},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx","children":[{"type":"inlineCode","value":"cross_exchange_market_making.pyx","position":{"start":{"line":87,"column":103,"offset":7382},"end":{"line":87,"column":137,"offset":7416},"indent":[]}}],"position":{"start":{"line":87,"column":102,"offset":7381},"end":{"line":87,"column":273,"offset":7552},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":87,"column":273,"offset":7552},"end":{"line":87,"column":274,"offset":7553},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":7280},"end":{"line":87,"column":274,"offset":7553},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Hedging Order Fills","position":{"start":{"line":89,"column":4,"offset":7558},"end":{"line":89,"column":23,"offset":7577},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":7555},"end":{"line":89,"column":23,"offset":7577},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The cross exchange market-making strategy would always immediately hedge any order fills from the maker side, regardless of how profitable the hedge is at the moment. The rationale is, it is more beneficial to minimize unnecessary exposure to additional market risks for the users than to wait speculatively for a profitable moment to hedge the maker order fill - which may never come.","position":{"start":{"line":91,"column":1,"offset":7579},"end":{"line":91,"column":386,"offset":7964},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":7579},"end":{"line":91,"column":386,"offset":7964},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/xemm-flowchart-4.svg","alt":"Figure 4: Hedging order fills flow chart","position":{"start":{"line":93,"column":1,"offset":7966},"end":{"line":93,"column":71,"offset":8036},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":7966},"end":{"line":93,"column":71,"offset":8036},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The logic of the hedging order fill flow can be found in the function ","position":{"start":{"line":95,"column":1,"offset":8038},"end":{"line":95,"column":71,"offset":8108},"indent":[]}},{"type":"inlineCode","value":"c_did_fill_order()","position":{"start":{"line":95,"column":71,"offset":8108},"end":{"line":95,"column":91,"offset":8128},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":95,"column":91,"offset":8128},"end":{"line":95,"column":96,"offset":8133},"indent":[]}},{"type":"inlineCode","value":"c_check_and_hedge_orders()","position":{"start":{"line":95,"column":96,"offset":8133},"end":{"line":95,"column":124,"offset":8161},"indent":[]}},{"type":"text","value":" in ","position":{"start":{"line":95,"column":124,"offset":8161},"end":{"line":95,"column":128,"offset":8165},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx","children":[{"type":"inlineCode","value":"cross_exchange_market_making.pyx","position":{"start":{"line":95,"column":129,"offset":8166},"end":{"line":95,"column":163,"offset":8200},"indent":[]}}],"position":{"start":{"line":95,"column":128,"offset":8165},"end":{"line":95,"column":299,"offset":8336},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":95,"column":299,"offset":8336},"end":{"line":95,"column":300,"offset":8337},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":8038},"end":{"line":95,"column":300,"offset":8337},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Cross Exchange Market Making\",\"description\":\"Info on developing cross exchange market making\"}","position":{"start":{"line":98,"column":1,"offset":8340},"end":{"line":98,"column":133,"offset":8472},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":98,"column":133,"offset":8472}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Cross Exchange Market Making\",\n  \"description\": \"Info on developing cross exchange market making\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"architecture\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#architecture\",\n    \"aria-label\": \"architecture permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Architecture\"), mdx(\"p\", null, \"The cross exchange market-making strategy performs market-making trades between two markets: it emits limit orders to a less liquid, larger spread market. It creates market orders on a more liquid, smaller spread market whenever the limit orders were hit. This, in effect, sends the liquidity from the more liquid market to the less liquid market.\"), mdx(\"p\", null, \"In Hummingbot code and documentation, we usually refer to the less liquid market as the \\\"maker side\\\" - since the cross exchange market making strategy is providing liquidity there. We then refer to the more liquid market as the \\\"taker side\\\" - since the strategy is taking liquidity there.\"), mdx(\"p\", null, \"The cross exchange market making strategy's code is divided into two major parts:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Order creation and adjustment\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Periodically creates and adjusts limit orders on the maker side.\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Hedging order fills\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Performs the opposite, hedging trade on the taker side whenever a maker order has been filled.\"))), mdx(\"h2\", {\n    \"id\": \"order-creation-and-adjustment\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#order-creation-and-adjustment\",\n    \"aria-label\": \"order creation and adjustment permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Order Creation and Adjustment\"), mdx(\"p\", null, \"Here's a high-level view of the logical flow of the order creation and adjustment part. The overall logic of order creation and adjustment is pretty involved, but it can be roughly divided to the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Cancel Order Flow\"), \" and the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create Order Flow\"), \".\"), mdx(\"p\", null, \"The cross exchange market-making strategy regularly refreshes the limit orders on the maker side market by regularly canceling old orders (or waiting for existing orders to expire) and creating new limit orders. This process ensures the limited orders it has on the maker side are always correct and profitable.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/8855802427165497dbae983328aec9c7/xemm-flowchart-1.svg\",\n    \"alt\": \"Figure 1: Order creation and adjustment flow chart\"\n  }))), mdx(\"p\", null, \"The entry point of this logic flow is the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_process_market_pair()\"), \" function in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cross_exchange_market_making.pyx\")), \".\"), mdx(\"h3\", {\n    \"id\": \"cancel-order-flow\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#cancel-order-flow\",\n    \"aria-label\": \"cancel order flow permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Cancel Order Flow\"), mdx(\"p\", null, \"The cancel order flow regularly monitors all active limit orders on the maker side to ensure they are all valid and profitable over time. If any active limit order becomes invalid (e.g., because the asset balance changed) or becomes unprofitable (due to market price changes), it should cancel such orders.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/cda9fac68e97af1f60052d2aebe8bb76/xemm-flowchart-2.svg\",\n    \"alt\": \"Figure 2: Cancel order flow chart\"\n  }))), mdx(\"h4\", {\n    \"id\": \"active-order-cancellation-setting\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#active-order-cancellation-setting\",\n    \"aria-label\": \"active order cancellation setting permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Active order cancellation setting\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/strategies/cross-exchange-market-making/#active_order_canceling\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"active_order_canceling\")), \" setting changes how the cancel order flow operates. \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"active_order_canceling\"), \" should be enabled when the maker side is a centralized exchange (e.g. Binance, Coinbase Pro), and it should be disabled when the maker side is a decentralized exchange.\"), mdx(\"p\", null, \"When \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"active_order_canceling\"), \" is enabled, the cross-exchange market-making strategy will refresh orders by actively canceling them regularly. This is optimal for centralized exchanges because it allows the strategy to respond quickly when, for example, market prices have significantly changed. However, this should not be chosen for decentralized exchanges that charge gas for canceling orders (such as Radar Relay).\"), mdx(\"p\", null, \"When \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"active_order_canceling\"), \" is disabled, the cross exchange market-making strategy would emit limit orders that automatically expire after a predefined time period. This means the strategy can wait for them to expire to refresh the maker orders rather than cancel them actively. This is useful for decentralized exchanges because it avoids the potentially very long cancellation delays there, and it also does not cost any gas to wait for order expiration.\"), mdx(\"p\", null, \"It is still possible for the strategy to actively cancel orders with \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"active_order_canceling\"), \" disabled, via the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/strategies/cross-exchange-market-making/#cancel_order_threshold\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cancel_order_threshold\")), \" setting. For example, you can set it to -0.05 such that the strategy would still cancel a limit order on a DEX when its profitability dropped below -5%. This can be used as a safety switch to guard against sudden and large price changes on decentralized exchanges.\"), mdx(\"h4\", {\n    \"id\": \"is-hedging-profitable\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#is-hedging-profitable\",\n    \"aria-label\": \"is hedging profitable permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Is hedging profitable?\"), mdx(\"p\", null, \"Assuming active order canceling is enabled, the first check the strategy does with each active maker order is whether it is still profitable or not. Next, the current profitability of an order is calculated assuming the order is filled and hedged on the taker market immediately.\"), mdx(\"p\", null, \"If the profit ratio calculated for the maker order is less than the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/strategies/cross-exchange-market-making/#min_profitability\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"min_profitability\")), \" setting, then the order is canceled.\"), mdx(\"p\", null, \"The logic of this check can be found in the function \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_check_if_still_profitable()\"), \" in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cross_exchange_market_making.pyx\")), \".\"), mdx(\"p\", null, \"Otherwise, the strategy will go onto the next check.\"), mdx(\"h4\", {\n    \"id\": \"is-there-a-sufficient-account-balance\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#is-there-a-sufficient-account-balance\",\n    \"aria-label\": \"is there a sufficient account balance permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Is there a sufficient account balance?\"), mdx(\"p\", null, \"The next check afterward checks whether there's enough asset balance left to satisfy the maker order. If there is not enough balance left on the exchange, the order would be canceled.\"), mdx(\"p\", null, \"The logic of this check can be found in the function \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_check_if_sufficient_balance()\"), \" in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cross_exchange_market_making.pyx\")), \".\"), mdx(\"p\", null, \"Otherwise, the strategy will go onto the next check.\"), mdx(\"h4\", {\n    \"id\": \"is-the-price-correct\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#is-the-price-correct\",\n    \"aria-label\": \"is the price correct permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Is the price correct?\"), mdx(\"p\", null, \"Asset prices on both the maker side and taker side are constantly changing, and thus the optimal prices for the limit orders on the maker side would change over time.\"), mdx(\"p\", null, \"The cross exchange market-making strategy calculates the optimal pricing from the following factors:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Current market order prices on the taker side.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Current order book depth on the maker side.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/strategies/cross-exchange-market-making/#top_depth_tolerance\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"top_depth_tolerance\")), \" setting, which is applied to the order book depths on maker side.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/strategies/cross-exchange-market-making/#min_profitability\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"min_profitability\")), \" setting, which is applied to the market order prices on the taker side.\")), mdx(\"p\", null, \"If the price of the active order is different from the optimal price calculated, then the order would be cancelled. Otherwise, the strategy would allow the order to stay.\"), mdx(\"p\", null, \"The logic of this check can be found in the function \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_check_if_price_correct()\"), \" in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cross_exchange_market_making.pyx\")), \".\"), mdx(\"p\", null, \"After all the active orders on the maker side have been checked, the strategy will proceed to create order flow.\"), mdx(\"h3\", {\n    \"id\": \"create-order-flow\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#create-order-flow\",\n    \"aria-label\": \"create order flow permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Create Order Flow\"), mdx(\"p\", null, \"After going through the cancel order flow, the cross exchange market-making strategy would check and re-create any missing limit orders on the maker side.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/57ffdfbb72331ff7934ad84c6b5d8b57/xemm-flowchart-3.svg\",\n    \"alt\": \"Figure 3: Cancel order flow chart\"\n  }))), mdx(\"p\", null, \"The logic inside the create order flow is relatively straightforward. First, it checks whether there is existing bid and ask orders on the maker side. Then, if any of the orders are missing, it will check whether it is profitable to create one at the moment. If it's profitable to create the missing orders, it will calculate the optimal pricing and size and create those orders.\"), mdx(\"p\", null, \"The logic of the create order flow can be found in the function \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_check_and_create_new_orders()\"), \" in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cross_exchange_market_making.pyx\")), \".\"), mdx(\"h2\", {\n    \"id\": \"hedging-order-fills\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#hedging-order-fills\",\n    \"aria-label\": \"hedging order fills permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Hedging Order Fills\"), mdx(\"p\", null, \"The cross exchange market-making strategy would always immediately hedge any order fills from the maker side, regardless of how profitable the hedge is at the moment. The rationale is, it is more beneficial to minimize unnecessary exposure to additional market risks for the users than to wait speculatively for a profitable moment to hedge the maker order fill - which may never come.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/a3017181b317a5f9712877266529e094/xemm-flowchart-4.svg\",\n    \"alt\": \"Figure 4: Hedging order fills flow chart\"\n  }))), mdx(\"p\", null, \"The logic of the hedging order fill flow can be found in the function \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_did_fill_order()\"), \" and \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"c_check_and_hedge_orders()\"), \" in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n  }), mdx(\"code\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"cross_exchange_market_making.pyx\")), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Cross Exchange Market Making\",\n  \"description\": \"Info on developing cross exchange market making\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h2 {...{\n      \"id\": \"architecture\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#architecture\",\n        \"aria-label\": \"architecture permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Architecture`}</h2>\n    <p>{`The cross exchange market-making strategy performs market-making trades between two markets: it emits limit orders to a less liquid, larger spread market. It creates market orders on a more liquid, smaller spread market whenever the limit orders were hit. This, in effect, sends the liquidity from the more liquid market to the less liquid market.`}</p>\n    <p>{`In Hummingbot code and documentation, we usually refer to the less liquid market as the \"maker side\" - since the cross exchange market making strategy is providing liquidity there. We then refer to the more liquid market as the \"taker side\" - since the strategy is taking liquidity there.`}</p>\n    <p>{`The cross exchange market making strategy's code is divided into two major parts:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Order creation and adjustment`}</p>\n        <p parentName=\"li\">{`Periodically creates and adjusts limit orders on the maker side.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Hedging order fills`}</p>\n        <p parentName=\"li\">{`Performs the opposite, hedging trade on the taker side whenever a maker order has been filled.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"order-creation-and-adjustment\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#order-creation-and-adjustment\",\n        \"aria-label\": \"order creation and adjustment permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Order Creation and Adjustment`}</h2>\n    <p>{`Here's a high-level view of the logical flow of the order creation and adjustment part. The overall logic of order creation and adjustment is pretty involved, but it can be roughly divided to the `}<strong parentName=\"p\">{`Cancel Order Flow`}</strong>{` and the `}<strong parentName=\"p\">{`Create Order Flow`}</strong>{`.`}</p>\n    <p>{`The cross exchange market-making strategy regularly refreshes the limit orders on the maker side market by regularly canceling old orders (or waiting for existing orders to expire) and creating new limit orders. This process ensures the limited orders it has on the maker side are always correct and profitable.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/8855802427165497dbae983328aec9c7/xemm-flowchart-1.svg\",\n        \"alt\": \"Figure 1: Order creation and adjustment flow chart\"\n      }}></img></p>\n    <p>{`The entry point of this logic flow is the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_process_market_pair()`}</code>{` function in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cross_exchange_market_making.pyx`}</code></a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"cancel-order-flow\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#cancel-order-flow\",\n        \"aria-label\": \"cancel order flow permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Cancel Order Flow`}</h3>\n    <p>{`The cancel order flow regularly monitors all active limit orders on the maker side to ensure they are all valid and profitable over time. If any active limit order becomes invalid (e.g., because the asset balance changed) or becomes unprofitable (due to market price changes), it should cancel such orders.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/cda9fac68e97af1f60052d2aebe8bb76/xemm-flowchart-2.svg\",\n        \"alt\": \"Figure 2: Cancel order flow chart\"\n      }}></img></p>\n    <h4 {...{\n      \"id\": \"active-order-cancellation-setting\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#active-order-cancellation-setting\",\n        \"aria-label\": \"active order cancellation setting permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Active order cancellation setting`}</h4>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"/strategies/cross-exchange-market-making/#active_order_canceling\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`active_order_canceling`}</code></a>{` setting changes how the cancel order flow operates. `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`active_order_canceling`}</code>{` should be enabled when the maker side is a centralized exchange (e.g. Binance, Coinbase Pro), and it should be disabled when the maker side is a decentralized exchange.`}</p>\n    <p>{`When `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`active_order_canceling`}</code>{` is enabled, the cross-exchange market-making strategy will refresh orders by actively canceling them regularly. This is optimal for centralized exchanges because it allows the strategy to respond quickly when, for example, market prices have significantly changed. However, this should not be chosen for decentralized exchanges that charge gas for canceling orders (such as Radar Relay).`}</p>\n    <p>{`When `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`active_order_canceling`}</code>{` is disabled, the cross exchange market-making strategy would emit limit orders that automatically expire after a predefined time period. This means the strategy can wait for them to expire to refresh the maker orders rather than cancel them actively. This is useful for decentralized exchanges because it avoids the potentially very long cancellation delays there, and it also does not cost any gas to wait for order expiration.`}</p>\n    <p>{`It is still possible for the strategy to actively cancel orders with `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`active_order_canceling`}</code>{` disabled, via the `}<a parentName=\"p\" {...{\n        \"href\": \"/strategies/cross-exchange-market-making/#cancel_order_threshold\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cancel_order_threshold`}</code></a>{` setting. For example, you can set it to -0.05 such that the strategy would still cancel a limit order on a DEX when its profitability dropped below -5%. This can be used as a safety switch to guard against sudden and large price changes on decentralized exchanges.`}</p>\n    <h4 {...{\n      \"id\": \"is-hedging-profitable\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#is-hedging-profitable\",\n        \"aria-label\": \"is hedging profitable permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Is hedging profitable?`}</h4>\n    <p>{`Assuming active order canceling is enabled, the first check the strategy does with each active maker order is whether it is still profitable or not. Next, the current profitability of an order is calculated assuming the order is filled and hedged on the taker market immediately.`}</p>\n    <p>{`If the profit ratio calculated for the maker order is less than the `}<a parentName=\"p\" {...{\n        \"href\": \"/strategies/cross-exchange-market-making/#min_profitability\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`min_profitability`}</code></a>{` setting, then the order is canceled.`}</p>\n    <p>{`The logic of this check can be found in the function `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_check_if_still_profitable()`}</code>{` in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cross_exchange_market_making.pyx`}</code></a>{`.`}</p>\n    <p>{`Otherwise, the strategy will go onto the next check.`}</p>\n    <h4 {...{\n      \"id\": \"is-there-a-sufficient-account-balance\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#is-there-a-sufficient-account-balance\",\n        \"aria-label\": \"is there a sufficient account balance permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Is there a sufficient account balance?`}</h4>\n    <p>{`The next check afterward checks whether there's enough asset balance left to satisfy the maker order. If there is not enough balance left on the exchange, the order would be canceled.`}</p>\n    <p>{`The logic of this check can be found in the function `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_check_if_sufficient_balance()`}</code>{` in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cross_exchange_market_making.pyx`}</code></a>{`.`}</p>\n    <p>{`Otherwise, the strategy will go onto the next check.`}</p>\n    <h4 {...{\n      \"id\": \"is-the-price-correct\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#is-the-price-correct\",\n        \"aria-label\": \"is the price correct permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Is the price correct?`}</h4>\n    <p>{`Asset prices on both the maker side and taker side are constantly changing, and thus the optimal prices for the limit orders on the maker side would change over time.`}</p>\n    <p>{`The cross exchange market-making strategy calculates the optimal pricing from the following factors:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Current market order prices on the taker side.`}</li>\n      <li parentName=\"ol\">{`Current order book depth on the maker side.`}</li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/strategies/cross-exchange-market-making/#top_depth_tolerance\"\n        }}><code parentName=\"a\" {...{\n            \"className\": \"language-text\"\n          }}>{`top_depth_tolerance`}</code></a>{` setting, which is applied to the order book depths on maker side.`}</li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/strategies/cross-exchange-market-making/#min_profitability\"\n        }}><code parentName=\"a\" {...{\n            \"className\": \"language-text\"\n          }}>{`min_profitability`}</code></a>{` setting, which is applied to the market order prices on the taker side.`}</li>\n    </ol>\n    <p>{`If the price of the active order is different from the optimal price calculated, then the order would be cancelled. Otherwise, the strategy would allow the order to stay.`}</p>\n    <p>{`The logic of this check can be found in the function `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_check_if_price_correct()`}</code>{` in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cross_exchange_market_making.pyx`}</code></a>{`.`}</p>\n    <p>{`After all the active orders on the maker side have been checked, the strategy will proceed to create order flow.`}</p>\n    <h3 {...{\n      \"id\": \"create-order-flow\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#create-order-flow\",\n        \"aria-label\": \"create order flow permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Create Order Flow`}</h3>\n    <p>{`After going through the cancel order flow, the cross exchange market-making strategy would check and re-create any missing limit orders on the maker side.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/57ffdfbb72331ff7934ad84c6b5d8b57/xemm-flowchart-3.svg\",\n        \"alt\": \"Figure 3: Cancel order flow chart\"\n      }}></img></p>\n    <p>{`The logic inside the create order flow is relatively straightforward. First, it checks whether there is existing bid and ask orders on the maker side. Then, if any of the orders are missing, it will check whether it is profitable to create one at the moment. If it's profitable to create the missing orders, it will calculate the optimal pricing and size and create those orders.`}</p>\n    <p>{`The logic of the create order flow can be found in the function `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_check_and_create_new_orders()`}</code>{` in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cross_exchange_market_making.pyx`}</code></a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"hedging-order-fills\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#hedging-order-fills\",\n        \"aria-label\": \"hedging order fills permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Hedging Order Fills`}</h2>\n    <p>{`The cross exchange market-making strategy would always immediately hedge any order fills from the maker side, regardless of how profitable the hedge is at the moment. The rationale is, it is more beneficial to minimize unnecessary exposure to additional market risks for the users than to wait speculatively for a profitable moment to hedge the maker order fill - which may never come.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/a3017181b317a5f9712877266529e094/xemm-flowchart-4.svg\",\n        \"alt\": \"Figure 4: Hedging order fills flow chart\"\n      }}></img></p>\n    <p>{`The logic of the hedging order fill flow can be found in the function `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_did_fill_order()`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`c_check_and_hedge_orders()`}</code>{` in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/CoinAlpha/hummingbot/blob/master/hummingbot/strategy/cross_exchange_market_making/cross_exchange_market_making.pyx\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`cross_exchange_market_making.pyx`}</code></a>{`.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}