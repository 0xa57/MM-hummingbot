{"expireTime":9007200881073065000,"key":"gatsby-plugin-mdx-entire-payload-761f8b15d35ca19f80562300f1f04217-","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"The TWAP strategy is a common algorithmic execution strategy used for splitting up large orders over time. Specifically, the TWAP strategy helps traders minimize slippage when buying or selling large orders. These features make the strategy more useful to traders and will help when creating future, more complex strategy:","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":323,"offset":323},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":323,"offset":323},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Incrementing / maintaining states over clock ticks","position":{"start":{"line":4,"column":3,"offset":327},"end":{"line":4,"column":53,"offset":377},"indent":[]}}],"position":{"start":{"line":4,"column":3,"offset":327},"end":{"line":4,"column":53,"offset":377},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":325},"end":{"line":4,"column":53,"offset":377},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Quantizing (rounding down to nearest tradable value) order size","position":{"start":{"line":5,"column":3,"offset":380},"end":{"line":5,"column":66,"offset":443},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":380},"end":{"line":5,"column":66,"offset":443},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":378},"end":{"line":5,"column":66,"offset":443},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Dividing an order into segments","position":{"start":{"line":6,"column":3,"offset":446},"end":{"line":6,"column":34,"offset":477},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":446},"end":{"line":6,"column":34,"offset":477},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":444},"end":{"line":6,"column":34,"offset":477},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Incorporating time delays between segmented orders","position":{"start":{"line":7,"column":3,"offset":480},"end":{"line":7,"column":53,"offset":530},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":480},"end":{"line":7,"column":53,"offset":530},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":478},"end":{"line":7,"column":53,"offset":530},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":325},"end":{"line":7,"column":53,"offset":530},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Overview","position":{"start":{"line":9,"column":4,"offset":535},"end":{"line":9,"column":12,"offset":543},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":532},"end":{"line":9,"column":12,"offset":543},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The TWAP strategy divides a large user order into chunks according to the following user configurations:","position":{"start":{"line":11,"column":1,"offset":545},"end":{"line":11,"column":105,"offset":649},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":545},"end":{"line":11,"column":105,"offset":649},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Total order size","position":{"start":{"line":13,"column":3,"offset":653},"end":{"line":13,"column":19,"offset":669},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":653},"end":{"line":13,"column":19,"offset":669},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":651},"end":{"line":13,"column":19,"offset":669},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"number of individual orders","position":{"start":{"line":14,"column":3,"offset":672},"end":{"line":14,"column":30,"offset":699},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":672},"end":{"line":14,"column":30,"offset":699},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":670},"end":{"line":14,"column":30,"offset":699},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"time delay between orders","position":{"start":{"line":15,"column":3,"offset":702},"end":{"line":15,"column":28,"offset":727},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":702},"end":{"line":15,"column":28,"offset":727},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":700},"end":{"line":15,"column":28,"offset":727},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":651},"end":{"line":15,"column":28,"offset":727},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/TWAP_1.svg","alt":"Figure 1: Processing orders","position":{"start":{"line":17,"column":1,"offset":729},"end":{"line":17,"column":48,"offset":776},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":729},"end":{"line":17,"column":48,"offset":776},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The orders are then split into tradable (quantized) amounts and executed sequentially with the indicated time delay between orders. There is no time delay before the first order. Because only one order is placed in a clock tick, a state machine must emit multiple orders over different clock ticks. To see the executed orders, type ","position":{"start":{"line":19,"column":1,"offset":778},"end":{"line":19,"column":333,"offset":1110},"indent":[]}},{"type":"inlineCode","value":"history","position":{"start":{"line":19,"column":333,"offset":1110},"end":{"line":19,"column":342,"offset":1119},"indent":[]}},{"type":"text","value":" into the command prompt.","position":{"start":{"line":19,"column":342,"offset":1119},"end":{"line":19,"column":367,"offset":1144},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":778},"end":{"line":19,"column":367,"offset":1144},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Config","position":{"start":{"line":21,"column":4,"offset":1149},"end":{"line":21,"column":10,"offset":1155},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1146},"end":{"line":21,"column":10,"offset":1155},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here are the additional user-configurable parameters for the TWAP strategy (fields are added to ","position":{"start":{"line":23,"column":1,"offset":1157},"end":{"line":23,"column":97,"offset":1253},"indent":[]}},{"type":"inlineCode","value":"config_map","position":{"start":{"line":23,"column":97,"offset":1253},"end":{"line":23,"column":109,"offset":1265},"indent":[]}},{"type":"text","value":" file):","position":{"start":{"line":23,"column":109,"offset":1265},"end":{"line":23,"column":116,"offset":1272},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1157},"end":{"line":23,"column":116,"offset":1272},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"time_delay","position":{"start":{"line":25,"column":3,"offset":1276},"end":{"line":25,"column":15,"offset":1288},"indent":[]}},{"type":"text","value":" : Change the question to ask for the number of seconds to delay each individual order. (e.g., How many seconds do you want to wait between each order?)","position":{"start":{"line":25,"column":15,"offset":1288},"end":{"line":25,"column":167,"offset":1440},"indent":[]}}],"position":{"start":{"line":25,"column":3,"offset":1276},"end":{"line":25,"column":167,"offset":1440},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1274},"end":{"line":25,"column":167,"offset":1440},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"num_individual_orders","position":{"start":{"line":26,"column":3,"offset":1443},"end":{"line":26,"column":26,"offset":1466},"indent":[]}},{"type":"text","value":" : a new field added to the config map. It should ask for the number of individual orders that an order should be split up into. (e.g., Into how many individual orders do you want to split this order?)","position":{"start":{"line":26,"column":26,"offset":1466},"end":{"line":26,"column":227,"offset":1667},"indent":[]}}],"position":{"start":{"line":26,"column":3,"offset":1443},"end":{"line":26,"column":227,"offset":1667},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1441},"end":{"line":26,"column":227,"offset":1667},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1274},"end":{"line":26,"column":227,"offset":1667},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Strategy","position":{"start":{"line":28,"column":4,"offset":1672},"end":{"line":28,"column":12,"offset":1680},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1669},"end":{"line":28,"column":12,"offset":1680},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The TWAP strategy logic is trying to split a large order into smaller ones over time. It does that by maintaining important information about the state when processing orders by adding state variables.","position":{"start":{"line":30,"column":1,"offset":1682},"end":{"line":30,"column":202,"offset":1883},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1682},"end":{"line":30,"column":202,"offset":1883},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Custom state variables can be added to the strategy by setting variables in the ","position":{"start":{"line":32,"column":1,"offset":1885},"end":{"line":32,"column":81,"offset":1965},"indent":[]}},{"type":"inlineCode","value":"__init__","position":{"start":{"line":32,"column":81,"offset":1965},"end":{"line":32,"column":91,"offset":1975},"indent":[]}},{"type":"text","value":" function.","position":{"start":{"line":32,"column":91,"offset":1975},"end":{"line":32,"column":101,"offset":1985},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1885},"end":{"line":32,"column":101,"offset":1985},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"self._quantity_remaining","position":{"start":{"line":34,"column":3,"offset":1989},"end":{"line":34,"column":29,"offset":2015},"indent":[]}},{"type":"text","value":" : Indicates the number of orders left to be placed as individual orders. This state variable is updated after each order is placed and persisted until the order is processed.","position":{"start":{"line":34,"column":29,"offset":2015},"end":{"line":34,"column":204,"offset":2190},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":1989},"end":{"line":34,"column":204,"offset":2190},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1987},"end":{"line":34,"column":204,"offset":2190},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"self._first_order","position":{"start":{"line":35,"column":3,"offset":2193},"end":{"line":35,"column":22,"offset":2212},"indent":[]}},{"type":"text","value":" : Indicates whether the current individual order is the first order.","position":{"start":{"line":35,"column":22,"offset":2212},"end":{"line":35,"column":91,"offset":2281},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":2193},"end":{"line":35,"column":91,"offset":2281},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2191},"end":{"line":35,"column":91,"offset":2281},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1987},"end":{"line":35,"column":91,"offset":2281},"indent":[1]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/img/TWAP_2.svg","alt":"Figure 2: Placing orders","position":{"start":{"line":37,"column":1,"offset":2283},"end":{"line":37,"column":45,"offset":2327},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2283},"end":{"line":37,"column":45,"offset":2327},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"TWAP processes orders when there is a remaining order quantity & the specified time_delay has passed. Specifically, some of the key elements in utilizing the remaining order quantity and time_delay are detailed below:","position":{"start":{"line":39,"column":1,"offset":2329},"end":{"line":39,"column":218,"offset":2546},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2329},"end":{"line":39,"column":218,"offset":2546},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If self.","position":{"start":{"line":41,"column":3,"offset":2550},"end":{"line":41,"column":11,"offset":2558},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":41,"column":11,"offset":2558},"end":{"line":41,"column":13,"offset":2560},"indent":[]}},{"type":"text","value":"quantity_remaining is greater than 0, place an order","position":{"start":{"line":41,"column":13,"offset":2560},"end":{"line":41,"column":65,"offset":2612},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":2550},"end":{"line":41,"column":65,"offset":2612},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2548},"end":{"line":41,"column":65,"offset":2612},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If ","position":{"start":{"line":42,"column":3,"offset":2615},"end":{"line":42,"column":6,"offset":2618},"indent":[]}},{"type":"inlineCode","value":"self._first_order","position":{"start":{"line":42,"column":6,"offset":2618},"end":{"line":42,"column":25,"offset":2637},"indent":[]}},{"type":"text","value":" is true, we want to place an order as soon as ","position":{"start":{"line":42,"column":25,"offset":2637},"end":{"line":42,"column":72,"offset":2684},"indent":[]}},{"type":"inlineCode","value":"self._current_timestamp > self._previous_timestamp","position":{"start":{"line":42,"column":72,"offset":2684},"end":{"line":42,"column":124,"offset":2736},"indent":[]}},{"type":"text","value":" we don't have a time delay before the first order","position":{"start":{"line":42,"column":124,"offset":2736},"end":{"line":42,"column":174,"offset":2786},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":2615},"end":{"line":42,"column":174,"offset":2786},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":2613},"end":{"line":42,"column":174,"offset":2786},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If it isn't the first order, check that ","position":{"start":{"line":43,"column":3,"offset":2789},"end":{"line":43,"column":43,"offset":2829},"indent":[]}},{"type":"inlineCode","value":"self._current_timestamp > self._previous_timestamp + self._time_delay","position":{"start":{"line":43,"column":43,"offset":2829},"end":{"line":43,"column":114,"offset":2900},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":2789},"end":{"line":43,"column":114,"offset":2900},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2787},"end":{"line":43,"column":114,"offset":2900},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Once an order is placed, update self.","position":{"start":{"line":44,"column":3,"offset":2903},"end":{"line":44,"column":40,"offset":2940},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":44,"column":40,"offset":2940},"end":{"line":44,"column":42,"offset":2942},"indent":[]}},{"type":"text","value":"quantity_remaining by subtracting the amount of the order just placed ","position":{"start":{"line":44,"column":42,"offset":2942},"end":{"line":44,"column":112,"offset":3012},"indent":[]}},{"type":"inlineCode","value":"curr_order_amount","position":{"start":{"line":44,"column":112,"offset":3012},"end":{"line":44,"column":131,"offset":3031},"indent":[]}},{"type":"text","value":" : Either (total order amount)/(number of orders) or ","position":{"start":{"line":44,"column":131,"offset":3031},"end":{"line":44,"column":184,"offset":3084},"indent":[]}},{"type":"inlineCode","value":"self._quantity_remaining","position":{"start":{"line":44,"column":184,"offset":3084},"end":{"line":44,"column":210,"offset":3110},"indent":[]}},{"type":"text","value":" depending on which is smaller","position":{"start":{"line":44,"column":210,"offset":3110},"end":{"line":44,"column":240,"offset":3140},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":2903},"end":{"line":44,"column":240,"offset":3140},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":2901},"end":{"line":44,"column":240,"offset":3140},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2548},"end":{"line":44,"column":240,"offset":3140},"indent":[1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"TWAP\",\"description\":\"Info on developing TWAP\"}","position":{"start":{"line":47,"column":1,"offset":3143},"end":{"line":47,"column":85,"offset":3227},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":47,"column":85,"offset":3227}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"TWAP\",\n  \"description\": \"Info on developing TWAP\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The TWAP strategy is a common algorithmic execution strategy used for splitting up large orders over time. Specifically, the TWAP strategy helps traders minimize slippage when buying or selling large orders. These features make the strategy more useful to traders and will help when creating future, more complex strategy:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Incrementing / maintaining states over clock ticks\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Quantizing (rounding down to nearest tradable value) order size\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Dividing an order into segments\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Incorporating time delays between segmented orders\")), mdx(\"h2\", {\n    \"id\": \"overview\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#overview\",\n    \"aria-label\": \"overview permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Overview\"), mdx(\"p\", null, \"The TWAP strategy divides a large user order into chunks according to the following user configurations:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Total order size\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"number of individual orders\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"time delay between orders\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/64c42367fc259d1716d8f1ed55f34899/TWAP_1.svg\",\n    \"alt\": \"Figure 1: Processing orders\"\n  }))), mdx(\"p\", null, \"The orders are then split into tradable (quantized) amounts and executed sequentially with the indicated time delay between orders. There is no time delay before the first order. Because only one order is placed in a clock tick, a state machine must emit multiple orders over different clock ticks. To see the executed orders, type \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"history\"), \" into the command prompt.\"), mdx(\"h2\", {\n    \"id\": \"config\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#config\",\n    \"aria-label\": \"config permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Config\"), mdx(\"p\", null, \"Here are the additional user-configurable parameters for the TWAP strategy (fields are added to \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"config_map\"), \" file):\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"time_delay\"), \" : Change the question to ask for the number of seconds to delay each individual order. (e.g., How many seconds do you want to wait between each order?)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"num_individual_orders\"), \" : a new field added to the config map. It should ask for the number of individual orders that an order should be split up into. (e.g., Into how many individual orders do you want to split this order?)\")), mdx(\"h2\", {\n    \"id\": \"strategy\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#strategy\",\n    \"aria-label\": \"strategy permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Strategy\"), mdx(\"p\", null, \"The TWAP strategy logic is trying to split a large order into smaller ones over time. It does that by maintaining important information about the state when processing orders by adding state variables.\"), mdx(\"p\", null, \"Custom state variables can be added to the strategy by setting variables in the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"__init__\"), \" function.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"self._quantity_remaining\"), \" : Indicates the number of orders left to be placed as individual orders. This state variable is updated after each order is placed and persisted until the order is processed.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"self._first_order\"), \" : Indicates whether the current individual order is the first order.\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/d1a4d2d481eefc057361efb50a51f369/TWAP_2.svg\",\n    \"alt\": \"Figure 2: Placing orders\"\n  }))), mdx(\"p\", null, \"TWAP processes orders when there is a remaining order quantity & the specified time_delay has passed. Specifically, some of the key elements in utilizing the remaining order quantity and time_delay are detailed below:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If self.\", \"_\", \"quantity_remaining is greater than 0, place an order\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"self._first_order\"), \" is true, we want to place an order as soon as \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"self._current_timestamp > self._previous_timestamp\"), \" we don't have a time delay before the first order\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If it isn't the first order, check that \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"self._current_timestamp > self._previous_timestamp + self._time_delay\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Once an order is placed, update self.\", \"_\", \"quantity_remaining by subtracting the amount of the order just placed \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"curr_order_amount\"), \" : Either (total order amount)/(number of orders) or \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"self._quantity_remaining\"), \" depending on which is smaller\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"TWAP\",\n  \"description\": \"Info on developing TWAP\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`The TWAP strategy is a common algorithmic execution strategy used for splitting up large orders over time. Specifically, the TWAP strategy helps traders minimize slippage when buying or selling large orders. These features make the strategy more useful to traders and will help when creating future, more complex strategy:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Incrementing / maintaining states over clock ticks`}</li>\n      <li parentName=\"ul\">{`Quantizing (rounding down to nearest tradable value) order size`}</li>\n      <li parentName=\"ul\">{`Dividing an order into segments`}</li>\n      <li parentName=\"ul\">{`Incorporating time delays between segmented orders`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"overview\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#overview\",\n        \"aria-label\": \"overview permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Overview`}</h2>\n    <p>{`The TWAP strategy divides a large user order into chunks according to the following user configurations:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Total order size`}</li>\n      <li parentName=\"ul\">{`number of individual orders`}</li>\n      <li parentName=\"ul\">{`time delay between orders`}</li>\n    </ul>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/64c42367fc259d1716d8f1ed55f34899/TWAP_1.svg\",\n        \"alt\": \"Figure 1: Processing orders\"\n      }}></img></p>\n    <p>{`The orders are then split into tradable (quantized) amounts and executed sequentially with the indicated time delay between orders. There is no time delay before the first order. Because only one order is placed in a clock tick, a state machine must emit multiple orders over different clock ticks. To see the executed orders, type `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`history`}</code>{` into the command prompt.`}</p>\n    <h2 {...{\n      \"id\": \"config\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#config\",\n        \"aria-label\": \"config permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Config`}</h2>\n    <p>{`Here are the additional user-configurable parameters for the TWAP strategy (fields are added to `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`config_map`}</code>{` file):`}</p>\n    <ul>\n      <li parentName=\"ul\"><code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`time_delay`}</code>{` : Change the question to ask for the number of seconds to delay each individual order. (e.g., How many seconds do you want to wait between each order?)`}</li>\n      <li parentName=\"ul\"><code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`num_individual_orders`}</code>{` : a new field added to the config map. It should ask for the number of individual orders that an order should be split up into. (e.g., Into how many individual orders do you want to split this order?)`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"strategy\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#strategy\",\n        \"aria-label\": \"strategy permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Strategy`}</h2>\n    <p>{`The TWAP strategy logic is trying to split a large order into smaller ones over time. It does that by maintaining important information about the state when processing orders by adding state variables.`}</p>\n    <p>{`Custom state variables can be added to the strategy by setting variables in the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`__init__`}</code>{` function.`}</p>\n    <ul>\n      <li parentName=\"ul\"><code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`self._quantity_remaining`}</code>{` : Indicates the number of orders left to be placed as individual orders. This state variable is updated after each order is placed and persisted until the order is processed.`}</li>\n      <li parentName=\"ul\"><code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`self._first_order`}</code>{` : Indicates whether the current individual order is the first order.`}</li>\n    </ul>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/d1a4d2d481eefc057361efb50a51f369/TWAP_2.svg\",\n        \"alt\": \"Figure 2: Placing orders\"\n      }}></img></p>\n    <p>{`TWAP processes orders when there is a remaining order quantity & the specified time_delay has passed. Specifically, some of the key elements in utilizing the remaining order quantity and time_delay are detailed below:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`If self.`}{`_`}{`quantity_remaining is greater than 0, place an order`}</li>\n      <li parentName=\"ul\">{`If `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`self._first_order`}</code>{` is true, we want to place an order as soon as `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`self._current_timestamp > self._previous_timestamp`}</code>{` we don't have a time delay before the first order`}</li>\n      <li parentName=\"ul\">{`If it isn't the first order, check that `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`self._current_timestamp > self._previous_timestamp + self._time_delay`}</code></li>\n      <li parentName=\"ul\">{`Once an order is placed, update self.`}{`_`}{`quantity_remaining by subtracting the amount of the order just placed `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`curr_order_amount`}</code>{` : Either (total order amount)/(number of orders) or `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`self._quantity_remaining`}</code>{` depending on which is smaller`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}